<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dev-UI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="./assets/three.min.js"></script>
    <script src="script.js" defer></script>
</head>
<body>
    <div class="loading-text"></div>
    <div class="middle-logo">
        <span class="main-span"><span>eDev-UI</span></span>
    </div>
    <div class="dashboard" style="display: none;">
        <div class="top-nav">
            <div id="left-box-top" class="end-lines top_nav_item">
                <span>PANEL</span>
                <span>SYSTEM</span>
            </div>
            <div id="middle-box-top" class="end-lines top_nav_item">
                <span>TERMINAL</span>
                <span>MAIN SHELL</span>
            </div>
            <div id="right-box-top" class="end-lines top_nav_item">
                <span>PANEL</span>
                <span>NETWORK</span>
            </div>
        </div>
        <div class="top">
            <div class="left-box">
                <div id="time">
                    <span id="hours"></span>
                    <span>:</span>
                    <span id="minutes"></span>
                    <span>:</span>
                    <span id="seconds"></span>
                </div>
                <div class="basics">
                    <div>
                        <span id="year" class="grayed"></span>
                        <span id="month-day"></span>
                    </div>
                    <div>
                        <span class="grayed">UPTIME</span>
                        <span id="uptime"></span>
                    </div>
                    <div>
                        <span class="grayed">TYPE</span>
                        <span id="os"></span>
                    </div>
                    <div>
                        <span class="grayed">POWER</span>
                        <span id="battery"></span>
                    </div>
                </div>
                <div class="basics">
                    <div style="margin-right: 1rem;">
                        <span>MANAFACTURER</span>
                        <span id="manafacturer" class="grayed">N/A</span>
                    </div>
                    <div style="margin-right: 1rem;">
                        <span>MODEL</span>
                        <span id="model" class="grayed">N/A</span>
                    </div>
                    <div>
                        <span>CHASSIS</span>
                        <span id="chassis" class="grayed">N/A</span>
                    </div>
                </div>
                <div class="cpu">
                    <div class="cpu-top">
                        <span>CPU USAGE</span>
                        <span class="grayed">CPU N/A</span>
                    </div>
                    <div class="cpu-graph">
                        <div class="cpu-top-graph" style="margin-bottom: 1rem;">
                            <div class="cpu-graph-text flex-column">
                                <span># 1 - 2</span>
                                <span class="grayed">Avg. N/A%</span>
                            </div>
                            <canvas id="fakeGraph" width="250" height="50"></canvas>
                        </div>
                        <div class="cpu-bottom-graph">
                            <div class="cpu-graph-text flex-column">
                                <span># 3 - 4</span>
                                <span class="grayed">Avg. N/A%</span>
                            </div>
                            <canvas id="fakeGraph" width="250" height="50"></canvas>
                        </div>
                    </div>
                    <div class="cpu-details">
                        <div>
                            <span>TEMP</span>
                            <span class="grayed">N/A&deg;C</span>
                        </div>
                        <div>
                            <span>MIN</span>
                            <span class="grayed">N/AGhz</span>
                        </div>
                        <div>
                            <span>MAX</span>
                            <span class="grayed">N/AGhz</span>
                        </div>
                        <div>
                            <span>TASKS</span>
                            <span class="grayed">N/A</span>
                        </div>
                    </div>
                </div>
                <div class="memory">
                    <div class="memory-top">
                        <span>MEMORY</span>
                        <span class="grayed">USING N/A OUT OF N/A GIB</span>
                    </div>
                    <div class="dot-grid">
                        <div class="fake-memory-dots">
                            <div class="fake_dot_col"></div>
                            <div class="fake_dot_col"></div>
                            <div class="fake_dot_col"></div>
                            <div class="fake_dot_col"></div>
                            <div class="fake_dot_col"></div>
                            <div class="fake_dot_col"></div>
                            <div class="fake_dot_col"></div>
                            <div class="fake_dot_col"></div>
                            <div class="fake_dot_col"></div>
                            <div class="fake_dot_col"></div>
                            <div class="fake_dot_col"></div>
                        </div>
                    </div>
                    <div class="memory-bottom" style="margin-top: 0.5rem;">
                        <span>SWAP</span>
                        <span class="grayed">N/A GIB</span>
                    </div>
                </div>
            </div>
            <div class="middle-box"></div>
            <div class="right-box">
                <div class="network-status">
                    <div class="network-status-top">
                        <span>NETWORK STATUS</span>
                        <span class="grayed font-small">Interface: N/A</span>
                    </div>
                    <div class="network-top-details">
                        <div class="flex-column">
                            <span class="grayed">STATE</span>
                            <span id="user-online-state"></span>
                        </div>
                        <div class="flex-column">
                            <span class="grayed" id="user-ip-type">IPv4</span>
                            <span id="user-ip"></span>
                        </div>
                        <div class="flex-column">
                            <span class="grayed">PING</span>
                            <span id="user-ping"></span>
                        </div>
                    </div>
                </div>
                <div class="world-location">
                    <div class="world-location-top">
                        <span>WORLD VIEW</span>
                        <span class="grayed font-small">GLOBAL NETWORK MAP</span>
                    </div>
                    <div class="world-location-top">
                        <span class="grayed">ENDPOINT LAT/LON</span>
                        <span class="font-small" id="lat-lon" style="color: rgb(90, 90, 90)">N/A, N/A</span>
                    </div>
                    <div id="earth-container"></div>
                </div>
                <div class="network-graph">
                    <div class="network-graph-top">
                        <span>NETWORK TRAFFIC</span>
                        <span class="grayed font-small">UP / DOWN, MB/S</span>
                    </div>
                    <div class="network-graph-top">
                        <span class="grayed">TOTAL</span>
                        <span class="font-small" style="color: rgb(90, 90, 90)">N/A MB OUT, N/A GB IN</span>
                    </div>
                    <div class="fake-network-graphs">
                        <canvas id="fakeGraphNetwork" width="350" height="45" style="border-bottom: 1px solid; border-top: 1px dotted;"></canvas>
                        <canvas id="fakeGraphOpposite" class="flipped" width="350" height="45" style="border-top: 1px dotted"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="bottom">
            <div class="bottom-left">
                <div class="file-system-title">
                    <div id="left-box-top" class="end-lines top_nav_item" style="width: 46.5vw;">
                        <span>FILESYSTEM</span>
                        <span>\home\</span>
                    </div>
                    <div class="file-explorer" style="width: 47vw; height: 24vh;">
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/cubes-solid-full.svg" alt="Cubes icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">Show disks</span>
                        </div>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/folder-solid-full.svg" alt="Folder icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">Home</span>
                        </div>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/folder-solid-full.svg" alt="Folder icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">Programs</span>
                        </div>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/folder-solid-full.svg" alt="Folder icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">Cache</span>
                        </div>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/file-solid-full.svg" alt="File icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">Cookies</span>
                        </div>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/folder-solid-full.svg" alt="Folder icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">GPUCache</span>
                        </div>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/folder-solid-full.svg" alt="Folder icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">Fonts</span>
                        </div>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/link-solid-full.svg" alt="Link icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">Sites</span>
                        </div>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/file-code-solid-full.svg" alt="Code File icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">index.html</span>
                        </div>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/folder-solid-full.svg" alt="Folder icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">Websites</span>
                        </div>
                        <a href="https://github.com/Nabeelgit/" target="_blank" style="text-decoration: none; color: inherit;">
                            <div class="folder clickable-icon" id="folder_parent">
                                <img src="./assets/icons/folder-solid-full.svg" alt="Folder icon" width="60" height="60" class="folder-icon clickable-icon">
                                <span class="clickable-icon">Repos</span>
                            </div>
                        </a>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/file-pdf-solid-full.svg" alt="PDF File icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">Transcript</span>
                        </div>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/file-audio-solid-full.svg" alt="Sound File icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">My Song</span>
                        </div>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/gear-solid-full.svg" alt="Gear icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">Keybinds</span>
                        </div>
                        <a href="https://github.com/Nabeelgit/devui" target="_blank" style="text-decoration: none; color: inherit;">
                            <div class="folder clickable-icon" id="folder_parent">
                                <img src="./assets/icons/file-code-solid-full.svg" alt="Code File icon" width="60" height="60" class="folder-icon clickable-icon">
                                <span class="clickable-icon">Source</span>
                            </div>
                        </a>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/sliders-solid-full.svg" alt="Slider icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">Volume</span>
                        </div>
                        <div class="folder clickable-icon" id="folder_parent">
                            <img src="./assets/icons/folder-solid-full.svg" alt="Folder icon" width="60" height="60" class="folder-icon clickable-icon">
                            <span class="clickable-icon">Content</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bottom-right">
                <div class="keyboard">
                    <div class="row-1">
                        <div class="keyboard-key" value="escape">ESC</div>
                        <div class="keyboard-key super-key" value="`" supervalue="~">
                            <div class="super-left"><span>~</span></div>
                            <div><span>`</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="1" supervalue="!">
                            <div class="super-left"><span>!</span></div>
                            <div><span>1</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="2" supervalue="@">
                            <div class="super-left"><span>@</span></div>
                            <div><span>2</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="3" supervalue="#">
                            <div class="super-left"><span>#</span></div>
                            <div><span>3</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="4" supervalue="$">
                            <div class="super-left"><span>$</span></div>
                            <div><span>4</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="5" supervalue="%">
                            <div class="super-left"><span>%</span></div>
                            <div><span>5</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="6" supervalue="^">
                            <div class="super-left"><span>^</span></div>
                            <div><span>6</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="7" supervalue="&">
                            <div class="super-left"><span>&</span></div>
                            <div><span>7</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="8" supervalue="*">
                            <div class="super-left"><span>*</span></div>
                            <div><span>8</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="9" supervalue="(">
                            <div class="super-left"><span>(</span></div>
                            <div><span>9</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="0" supervalue=")">
                            <div class="super-left"><span>)</span></div>
                            <div><span>0</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="-" supervalue="_">
                            <div class="super-left"><span>_</span></div>
                            <div><span>-</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="=" supervalue="+">
                            <div class="super-left"><span>+</span></div>
                            <div><span>=</span></div>
                        </div>
                        <div class="keyboard-key" style="width: 6rem" value="backspace">BACK</div>
                    </div>
                    <div class="row-2">
                        <div class="keyboard-key" style="width: 6rem" value="tab">TAB</div>
                        <div class="keyboard-key" value="q">Q</div>
                        <div class="keyboard-key" value="w">W</div>
                        <div class="keyboard-key" value="e">E</div>
                        <div class="keyboard-key" value="r">R</div>
                        <div class="keyboard-key" value="t">T</div>
                        <div class="keyboard-key" value="y">Y</div>
                        <div class="keyboard-key" value="u">U</div>
                        <div class="keyboard-key" value="i">I</div>
                        <div class="keyboard-key" value="o">O</div>
                        <div class="keyboard-key" value="p">P</div>
                        <div class="keyboard-key super-key" value="[" supervalue="{">
                            <div class="super-left"><span>{</span></div>
                            <div><span>[</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="]" supervalue="}">
                            <div class="super-left"><span>}</span></div>
                            <div><span>]</span></div>
                        </div>
                    </div>
                    <div class="row-3" style="padding-left: 1rem;">
                        <div class="keyboard-key" style="width: 6rem" value="capslock">CAPS</div>
                        <div class="keyboard-key" value="a">A</div>
                        <div class="keyboard-key" value="s">S</div>
                        <div class="keyboard-key" value="d">D</div>
                        <div class="keyboard-key" value="f">F</div>
                        <div class="keyboard-key" value="g">G</div>
                        <div class="keyboard-key" value="h">H</div>
                        <div class="keyboard-key" value="j">J</div>
                        <div class="keyboard-key" value="k">K</div>
                        <div class="keyboard-key" value="l">L</div>
                        <div class="keyboard-key super-key" value=";" supervalue=":">
                            <div class="super-left"><span>:</span></div>
                            <div><span>;</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="'" supervalue='"'>
                            <div class="super-left"><span>"</span></div>
                            <div><span>'</span></div>
                        </div>
                        <div class="keyboard-key" style="width: 6rem" value="enter">ENTER</div>
                    </div>
                    <div class="row-4" style="padding-left: 1.5rem;">
                        <div class="keyboard-key" style="width: 6rem" value="shift">SHIFT</div>
                        <div class="keyboard-key super-key" value="<" supervalue=">">
                            <div class="super-left"><span>&gt;</span></div>
                            <div><span>&lt;</span></div>
                        </div>
                        <div class="keyboard-key" value="z">Z</div>
                        <div class="keyboard-key" value="x">X</div>
                        <div class="keyboard-key" value="c">C</div>
                        <div class="keyboard-key" value="v">V</div>
                        <div class="keyboard-key" value="b">B</div>
                        <div class="keyboard-key" value="n">N</div>
                        <div class="keyboard-key" value="m">M</div>
                        <div class="keyboard-key super-key" value="," supervalue="<">
                            <div class="super-left"><span>&lt;</span></div>
                            <div><span>,</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="." supervalue=">">
                            <div class="super-left"><span>&gt;</span></div>
                            <div><span>.</span></div>
                        </div>
                        <div class="keyboard-key super-key" value="/" supervalue="?">
                            <div class="super-left"><span>?</span></div>
                            <div><span>/</span></div>
                        </div>
                        <div class="keyboard-key" value="shift">SHIFT</div>
                        <div class="keyboard-key arrow-icon" value="arrowup"><img src="./assets/icons/arrow-up-solid-full.svg" width="20" height="20"></div>
                    </div>
                    <div class="row-5" style="padding-left: 2rem;">
                        <div class="keyboard-key" style="width: 6rem" value="control">CTRL</div>
                        <div class="keyboard-key" style="width: 6rem" value="alt">ALT</div>
                        <div class="keyboard-key" style="width: 30rem; border: 1px solid;" value=" "></div>
                        <div class="keyboard-key" style="width: 6rem" value="alt">ALT GR</div>
                        <div class="keyboard-key" style="width: 6rem" value="control">CTRL</div>
                        <div style="display: flex; margin-right: -3.2rem;">
                            <div class="keyboard-key arrow-icon" value="arrowleft"><img src="./assets/icons/arrow-left-solid-full.svg" width="20" height="20"></div>
                            <div class="keyboard-key arrow-icon" value="arrowdown"><img src="./assets/icons/arrow-down-solid-full.svg" width="20" height="20"></div>
                            <div class="keyboard-key arrow-icon" value="arrowright"><img src="./assets/icons/arrow-right-solid-full.svg" width="20" height="20"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function(){
            const container = document.getElementById("earth-container");
            const earth_width = 400;
            const earth_height = 450;

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(70, earth_width/earth_height, 0.1, 1000);
            camera.position.z = 3;

            const renderer = new THREE.WebGLRenderer({antialias: true});
            renderer.setSize(earth_width, earth_height);
            renderer.setClearColor(0x000000, 0);
            container.appendChild(renderer.domElement);

            const loader = new THREE.TextureLoader();
            loader.load("./assets/earth.jpg", texture => {
                const size = 256;
                const canvas = document.createElement("canvas");
                canvas.width = canvas.height = size;
                const ctx = canvas.getContext("2d");
                ctx.drawImage(texture.image, 0, 0, size, size);
                const imgData = ctx.getImageData(0, 0, size, size).data;

                const globeGroup = new THREE.Group();
                scene.add(globeGroup);

                // Globe points
                const positions = [];
                for (let y = 0; y < size; y += 2) {
                    for (let x = 0; x < size; x += 2) {
                        const i = (y * size + x) * 4;
                        const r = imgData[i], g = imgData[i+1], b = imgData[i+2];
                        if (!(b > r && b > g)) {
                            const lon = -((x / size) * Math.PI * 2 - Math.PI);
                            const lat = (1 - y / size) * Math.PI - Math.PI / 2;
                            const radius = 1;

                            const px = radius * Math.cos(lat) * Math.cos(lon);
                            const py = radius * Math.sin(lat);
                            const pz = radius * Math.cos(lat) * Math.sin(lon);
                            positions.push(px, py, pz);
                        }
                    }
                }

                const geometry = new THREE.BufferGeometry();
                geometry.setAttribute("position", new THREE.Float32BufferAttribute(positions, 3));
                const material = new THREE.PointsMaterial({ color: "white", size: 0.004 });
                const points = new THREE.Points(geometry, material);
                globeGroup.add(points);

                // User location marker
                if ("geolocation" in navigator && navigator.onLine) {
                    navigator.geolocation.getCurrentPosition(position => {
                        const lat = position.coords.latitude;
                        const lon = position.coords.longitude;

                        const radius = 1.02;
                        const phi = (90 - lat) * (Math.PI / 180);
                        const theta = -(lon * (Math.PI / 180));
                        
                        const x = radius * Math.sin(phi) * Math.cos(theta);
                        const y = radius * Math.cos(phi);
                        const z = radius * Math.sin(phi) * Math.sin(theta);

                        const markerGeo = new THREE.SphereGeometry(0.02, 8, 8);
                        const markerMat = new THREE.MeshBasicMaterial({ color: 0xff0000 });
                        const marker = new THREE.Mesh(markerGeo, markerMat);
                        marker.position.set(x, y, z);
                        globeGroup.add(marker);

                        globeGroup.rotation.y = -theta + Math.PI;
                    });
                }
                function animate() {
                    requestAnimationFrame(animate);
                    if(navigator.onLine) {
                        globeGroup.rotation.y += 0.004;
                    } else {
                        container.style.opacity = "50%";
                    }
                    renderer.render(scene, camera);
                }
                animate();
            });

            window.addEventListener("resize", () => {
                camera.aspect = earth_width / earth_height;
                camera.updateProjectionMatrix();
                renderer.setSize(earth_width, earth_height);
            });
        });
    </script>
</body>
</html>